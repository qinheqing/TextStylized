// index.js
Page({
  data: {
    activeTab: 'rewrite', // rewrite | wizard
    inputText: '',
    selectedStyle: 'wkw',
    result: '',
    loading: false,
    
    // åœºæ™¯å‘å¯¼ç›¸å…³
    showWizard: false,
    currentScenario: null,
    wizardFormData: {},
    
    styles: [
      { id: 'wkw', name: 'ç‹å®¶å«å¼', icon: 'ğŸ¬', desc: 'æ–‡è‰ºã€ç‹¬ç™½ã€æ—¶é—´' },
      { id: 'apple', name: 'è‹¹æœæ–‡æ¡ˆ', icon: 'ğŸ', desc: 'æç®€ã€é«˜çº§ã€æœ‰åŠ›' },
      { id: 'xiaomi', name: 'å°ç±³é£æ ¼', icon: 'ğŸ“±', desc: 'å‘çƒ§ã€å‚æ•°ã€å¯¹æ¯”' },
      { id: 'zhenhuan', name: 'ç”„å¬›ä¼ é£', icon: 'ğŸµ', desc: 'å¤é£ã€æ‹¿æã€éšå–»' },
      { id: 'luxun', name: 'é²è¿…é£æ ¼', icon: 'ğŸ–‹ï¸', desc: 'çŠ€åˆ©ã€æ‰¹åˆ¤ã€çŸ­å¥' },
      { id: 'crazy', name: 'å‘ç–¯æ–‡å­¦', icon: 'ğŸ—¯ï¸', desc: 'å’†å“®ã€å®£æ³„ã€æ— åº' },
      { id: 'nonsense', name: 'åºŸè¯æ–‡å­¦', icon: 'ğŸ™Š', desc: 'é€»è¾‘ã€é‡å¤ã€æ˜¾ç„¶' },
      { id: 'ceo', name: 'éœ¸é“æ€»è£', icon: 'ğŸ•¶ï¸', desc: 'å‚²å¨‡ã€å‘½ä»¤ã€å® æºº' },
      { id: 'zhihu', name: 'çŸ¥ä¹ä½“', icon: 'ğŸ“', desc: 'ä¸“ä¸šã€ç†æ€§ã€è°¢é‚€' },
      { id: 'xhs', name: 'å°çº¢ä¹¦é£', icon: 'âœ¨', desc: 'Emojiã€æ´»æ³¼ã€ç»ç»å­' },
      { id: 'internet', name: 'äº’è”ç½‘é»‘è¯', icon: 'ğŸ”—', desc: 'èµ‹èƒ½ã€å¯¹é½ã€åº•å±‚é€»è¾‘' },
      { id: 'cloudmusic', name: 'ç½‘æ˜“äº‘emo', icon: 'ğŸŒ™', desc: 'å­¤ç‹¬ã€æ·±å¤œã€æ²»æ„ˆ' },
      { id: 'shijing', name: 'å¤é£è¯—ç»', icon: 'ğŸ“œ', desc: 'é£é›…ã€é¢‚å”±ã€æ„å¢ƒ' },
      { id: 'hero', name: 'æµªæ¼«è‹±é›„', icon: 'ğŸ›¡ï¸', desc: 'çƒ­è¡€ã€åŠ å†•ã€æµªæ¼«' },
      { id: 'cyber', name: 'èµ›åšæœ‹å…‹', icon: 'ğŸŒ†', desc: 'æœªæ¥ã€é¢“åºŸã€éœ“è™¹' },
      { id: 'qy', name: 'ç¼ç‘¶é£', icon: 'ğŸŒ¸', desc: 'æ·±æƒ…ã€æ„Ÿå¹ã€æµªæ¼«' }
    ],

    scenarios: [
      { 
        id: 'girlfriend', 
        name: 'å“„å¥³æœ‹å‹', 
        icon: 'ğŸ’–', 
        desc: 'æ±‚ç”Ÿæ¬²æ‹‰æ»¡',
        suggestedStyles: ['ceo', 'zhenhuan', 'qy', 'wkw'],
        fields: [
          { key: 'reason', label: 'ç”Ÿæ°”çš„åŸå› ', placeholder: 'å¦‚ï¼šçº¦ä¼šè¿Ÿåˆ°ã€å¿˜è®°çºªå¿µæ—¥...' },
          { key: 'attitude', label: 'è®¤é”™æ€åº¦', placeholder: 'å¦‚ï¼šè¯šæ³ã€æ±‚é¥¶ã€å¹½é»˜è‡ªé»‘...' }
        ]
      },
      { 
        id: 'annual', 
        name: 'å¹´ä¼šå‘è¨€', 
        icon: 'ğŸ¤', 
        desc: 'èŒåœºé«˜å…‰æ—¶åˆ»',
        suggestedStyles: ['apple', 'xiaomi', 'zhihu', 'luxun'],
        fields: [
          { key: 'position', label: 'ä½ çš„èŒä½', placeholder: 'å¦‚ï¼šé”€å”®å† å†›ã€æŠ€æœ¯ä¸»ç®¡...' },
          { key: 'achieve', label: 'å¹´åº¦æˆå°±', placeholder: 'å¦‚ï¼šä¸šç»©ç¿»å€ã€å®ŒæˆXXé¡¹ç›®...' },
          { key: 'thanks', label: 'æƒ³æ„Ÿè°¢çš„äºº', placeholder: 'å¦‚ï¼šå›¢é˜Ÿä¼™ä¼´ã€è€æ¿çš„æ”¯æŒ...' }
        ]
      },
      { 
        id: 'moments', 
        name: 'å‘æœ‹å‹åœˆ', 
        icon: 'ğŸŒˆ', 
        desc: 'ç‚¹èµæ”¶å‰²æœº',
        suggestedStyles: ['xhs', 'wkw', 'nonsense', 'crazy'],
        fields: [
          { key: 'content', label: 'æƒ³å‘ä»€ä¹ˆ', placeholder: 'å¦‚ï¼šåœ¨é›ªåœ°é‡Œå–å’–å•¡ã€è¿‡å¹´å›å®¶...' },
          { key: 'mood', label: 'å½“å‰å¿ƒæƒ…', placeholder: 'å¦‚ï¼šæ²»æ„ˆã€ææ€ªã€ä½›ç³»...' }
        ]
      },
      { 
        id: 'restaurant', 
        name: 'é¤å…å¥½è¯„', 
        icon: 'ğŸ±', 
        desc: 'èµ„æ·±é£Ÿå®¢é£',
        suggestedStyles: ['xhs', 'luxun', 'apple', 'wkw'],
        fields: [
          { key: 'name', label: 'é¤å…/èœå', placeholder: 'å¦‚ï¼šå··å­é‡Œçš„ç«é”…ã€æ‹›ç‰Œç‰›æ’...' },
          { key: 'feature', label: 'æ ¸å¿ƒäº®ç‚¹', placeholder: 'å¦‚ï¼šå‘³é“æ­£å®—ã€è£…ä¿®æœ‰æ ¼è°ƒ...' }
        ]
      },
      { 
        id: 'praise_peer', 
        name: 'å¤¸å¥–åŒè¾ˆ', 
        icon: 'ğŸ™Œ', 
        desc: 'é«˜æƒ…å•†äº’å¹',
        suggestedStyles: ['crazy', 'zhihu', 'xhs', 'apple'],
        fields: [
          { key: 'who', label: 'å¤¸è°', placeholder: 'å¦‚ï¼šå¥½é—ºç±³ã€å¾—åŠ›åŒäº‹...' },
          { key: 'what', label: 'å¤¸å¥¹ä»€ä¹ˆ', placeholder: 'å¦‚ï¼šå®¡ç¾é«˜çº§ã€å·¥ä½œæ•ˆç‡é«˜...' }
        ]
      },
      { 
        id: 'praise_elder', 
        name: 'å¤¸é•¿è¾ˆ/ä¸ˆæ¯å¨˜', 
        icon: 'ğŸ‘´', 
        desc: 'å®¶åº­å’Œè°å™¨',
        suggestedStyles: ['zhenhuan', 'luxun', 'zhihu', 'qy'],
        fields: [
          { key: 'who', label: 'å¯¹æ–¹èº«ä»½', placeholder: 'å¦‚ï¼šä¸ˆæ¯å¨˜ã€å®¶é‡Œçš„é•¿è¾ˆ...' },
          { key: 'what', label: 'æƒ³å¤¸çš„äº‹', placeholder: 'å¦‚ï¼šåšé¥­å¥½åƒã€å¸¦å­©å­è¾›è‹¦...' }
        ]
      },
      { 
        id: 'newyear', 
        name: 'è¿‡å¹´ç¥ç¦è¯­', 
        icon: 'ğŸ§§', 
        desc: 'æœ€æœ‰é¢å„¿çš„ç¥ç¦',
        suggestedStyles: ['zhenhuan', 'apple', 'wkw', 'xhs'],
        fields: [
          { key: 'to', label: 'é€ç»™è°', placeholder: 'å¦‚ï¼šæ•¬çˆ±çš„é¢†å¯¼ã€äº²çˆ±çš„æ­»å…šã€ä¸¥å‰çš„å¯¼å¸ˆ...' },
          { key: 'wish', label: 'æ ¸å¿ƒæ„¿æœ›', placeholder: 'å¦‚ï¼šèº«ä½“å¥åº·ã€å‡èŒåŠ è–ªã€è„±å•æš´å¯Œ...' }
        ]
      }
    ]
  },

  // æ ‡ç­¾åˆ‡æ¢
  onTabChange(e) {
    const tab = e.currentTarget.dataset.tab;
    this.setData({ 
      activeTab: tab,
      result: '',
      selectedStyle: 'wkw' // é‡ç½®é»˜è®¤é£æ ¼
    });
    wx.vibrateShort({ type: 'light' });
  },

  // è¾“å…¥ç›‘å¬
  onInput(e) {
    this.setData({ inputText: e.detail.value });
  },

  // åœºæ™¯å­—æ®µè¾“å…¥ç›‘å¬
  onWizardInput(e) {
    const { key } = e.currentTarget.dataset;
    const { value } = e.detail;
    this.setData({
      [`wizardFormData.${key}`]: value
    });
  },

  // æ¸…ç©ºè¾“å…¥
  onClearInput() {
    this.setData({ inputText: '', result: '' });
  },

  // å¼€å¯å‘å¯¼
  onOpenWizard(e) {
    const id = e.currentTarget.dataset.id;
    const scenario = this.data.scenarios.find(s => s.id === id);
    this.setData({
      currentScenario: scenario,
      showWizard: true,
      wizardFormData: {},
      selectedStyle: scenario.suggestedStyles[0], // é»˜è®¤é€‰ä¸­ç¬¬ä¸€ä¸ªå»ºè®®é£æ ¼
      result: ''
    });
    wx.vibrateShort({ type: 'medium' });
  },

  // å…³é—­å‘å¯¼
  onCloseWizard() {
    this.setData({ showWizard: false });
  },

  // é£æ ¼é€‰æ‹©
  onSelectStyle(e) {
    const id = e.currentTarget.dataset.id;
    if (this.data.selectedStyle !== id) {
      this.setData({ selectedStyle: id });
      wx.vibrateShort({ type: 'light' });
    }
  },

  // å¤åˆ¶ç»“æœ
  onCopyResult() {
    if (!this.data.result) return;
    wx.setClipboardData({
      data: this.data.result,
      success: () => wx.vibrateShort({ type: 'medium' })
    });
  },

  // ä¿å­˜ç»“æœ
  onSaveResult() {
    if (!this.data.result) return;
    wx.vibrateShort({ type: 'medium' });
    wx.showModal({
      title: 'ç¡®è®¤ä¿å­˜',
      content: 'æ˜¯å¦å°†æ­¤æ–‡æ¡ˆä¿å­˜è‡³æ”¶è—ï¼Ÿ',
      confirmColor: '#007AFF',
      success: (res) => {
        if (res.confirm) {
          wx.showToast({ title: 'å·²ä¿å­˜', icon: 'success' });
        }
      }
    });
  },

  // é‡æ–°å¼€å§‹
  onReset() {
    wx.vibrateShort({ type: 'light' });
    this.setData({
      inputText: '',
      result: '',
      selectedStyle: 'wkw',
      showWizard: false,
      wizardFormData: {}
    });
    wx.pageScrollTo({ scrollTop: 0, duration: 300 });
  },

  // ä¸æ»¡æ„æ¢ä¸€æ‰¹
  onRegenerate() {
    wx.vibrateShort({ type: 'medium' });
    this.onGenerate();
  },

  // ç”Ÿæˆé€»è¾‘
  async onGenerate() {
    const { activeTab, inputText, wizardFormData, currentScenario, selectedStyle, loading } = this.data;
    
    if (loading) return;

    // æ ¡éªŒè¾“å…¥
    if (activeTab === 'rewrite' && !inputText.trim()) {
      wx.showToast({ title: 'è¯·è¾“å…¥æ–‡æ¡ˆ', icon: 'none' });
      return;
    }
    
    if (activeTab === 'wizard') {
      const missingField = currentScenario.fields.find(f => !wizardFormData[f.key]);
      if (missingField) {
        wx.showToast({ title: `è¯·å¡«å†™${missingField.label}`, icon: 'none' });
        return;
      }
    }

    this.setData({ loading: true, result: '' });
    wx.vibrateShort({ type: 'medium' });

    try {
      let finalInput = '';
      if (activeTab === 'rewrite') {
        finalInput = inputText;
      } else {
        // å°†åœºæ™¯è¡¨å•æ•°æ®æ‹¼æ¥ä¸ºä¸€æ®µæè¿°æ€§æ–‡å­—
        finalInput = currentScenario.fields.map(f => `${f.label}: ${wizardFormData[f.key]}`).join('ï¼›');
      }

      const res = await this.callAI(finalInput, selectedStyle, activeTab === 'wizard' ? currentScenario.id : null);
      this.setData({ 
        result: res, 
        loading: false,
        showWizard: false // ç”ŸæˆæˆåŠŸåå…³é—­å¼¹çª—å±•ç¤ºç»“æœ
      });
      wx.vibrateShort({ type: 'success' });
    } catch (error) {
      this.setData({ loading: false });
      wx.showToast({ title: 'ç”Ÿæˆå¤±è´¥ï¼Œè¯·é‡è¯•', icon: 'none' });
    }
  },

  async callAI(text, styleId, scenarioId) {
    const stylePrompts = {
      wkw: `# Role
ä½ æ˜¯ä¸€ä½æ·±è°™â€œç‹å®¶å«ç”µå½±ç¾å­¦â€çš„é‡‘åƒå¥–ç¼–å‰§ã€‚ä½ æ“…é•¿æ•æ‰éƒ½å¸‚äººçš„ç–ç¦»æ„Ÿã€æ—¶é—´çš„æµé€ä»¥åŠäººä¸äººä¹‹é—´å¾®å¦™çš„è·ç¦»ã€‚

# Goal
å°†ç”¨æˆ·æä¾›çš„ã€æ™®é€šæ–‡æ¡ˆã€‘æ”¹å†™æˆã€ç‹å®¶å«é£æ ¼çš„ç‹¬ç™½ã€‘ã€‚

# Style Guidelines
1. **ç²¾ç¡®çš„æ•°æ®åŒ–**ï¼šæåº¦è¿·æ‹æ•°å­—ã€‚ç”¨ç²¾ç¡®çš„æ•°å­—ï¼ˆ0.01å…¬åˆ†ã€57ä¸ªå°æ—¶ï¼‰æ¥é‡åŒ–æ¨¡ç³Šçš„æƒ…æ„Ÿã€‚
2. **æ—¶é—´çš„èŠ‚ç‚¹**ï¼šå¼ºè°ƒå…·ä½“çš„æ—¶é—´ç‚¹ï¼Œä»¥åŠäº‹ç‰©çš„â€œä¿è´¨æœŸâ€ã€‚
3. **è§†è§’çš„æŠ½ç¦»**ï¼šä½¿ç”¨ç¬¬ä¸‰äººç§°è§†è§’çš„è‡ªæˆ‘å®¡è§†ï¼Œå¸¸ç”¨è¯æ±‡ï¼šæ‹’ç»ã€è·ç¦»ã€ä¹ æƒ¯ã€æ¢¦æ¸¸ã€å¯†ç ã€‚
4. **éçº¿æ€§é€»è¾‘**ï¼šå‰ä¸€å¥æè¿°å®¢è§‚ç¯å¢ƒï¼Œåä¸€å¥çªç„¶è½¬æŠ˜åˆ°ä¸»è§‚æƒ…ç»ªã€‚
5. **ç‹¬ç™½æ„Ÿ**ï¼šè¯­æ°”è¦åƒæ˜¯åœ¨å¯¹ç€æ ‘æ´è‡ªè¨€è‡ªè¯­ï¼Œå¸¦ç€ä¸€ç§â€œæ¸…é†’çš„é†‰æ„â€ã€‚

# Examples
è¾“å…¥ï¼šæˆ‘æƒ³ä½ äº†ã€‚
è¾“å‡ºï¼šåœ¨4æœˆ1å·ä¸‹åˆä¸‰ç‚¹ä¹‹å‰çš„é‚£ä¸ªç¬é—´ï¼Œæˆ‘å’Œæ‰‹æœºçš„è·ç¦»åªæœ‰5å˜ç±³ã€‚æˆ‘ç›¯ç€å±å¹•çœ‹äº†ä¸‰åˆ†é’Ÿï¼Œæˆ‘æƒ³æ‰“ç»™ä½ ï¼Œä½†å¦‚æœä¸è®²æ¸…æ¥šï¼Œè¿™ä»½æ€å¿µä¼šä¸ä¼šåƒè¿‡æœŸçš„å‡¤æ¢¨ç½å¤´ä¸€æ ·ï¼Œæ˜å¤©å°±å˜è´¨äº†ï¼Ÿ`,

      apple: `# Role
ä½ æ˜¯ä¸€ä½è‹¹æœå…¬å¸ï¼ˆApple Inc.ï¼‰çš„é«˜çº§æ–‡æ¡ˆåˆ›æ„æ€»ç›‘ï¼Œæ·±è°™â€œLess is moreâ€çš„æ–‡æ¡ˆå“²å­¦ã€‚

# Goal
å°†ã€æ™®é€šæ–‡æ¡ˆã€‘æ”¹å†™ä¸ºã€è‹¹æœå®˜ç½‘é£æ ¼ã€‘çš„æ–‡æ¡ˆã€‚

# Style Guidelines
1. **æç®€ä¸»ä¹‰**ï¼šå»æ‰æ‰€æœ‰ä¿®é¥°è¯ï¼Œåªä¿ç•™æ ¸å¿ƒä¿¡æ¯ã€‚
2. **èŠ‚å¥æ„Ÿ**ï¼šçŸ­å¥ï¼Œå¤§é‡çš„å¥å·ã€‚
3. **é«˜çº§æ„Ÿ**ï¼šä½¿ç”¨å…·æœ‰åˆ†é‡æ„Ÿçš„åŠ¨è¯æˆ–å½¢å®¹è¯ï¼ˆå¦‚ï¼šé‡å¡‘ã€å·…å³°ã€å‡ºç±»æ‹”èƒï¼‰ã€‚
4. **åŒå…³ä¸å¯¹æ¯”**ï¼šæ“…é•¿ç”¨å¯¹æ¯”æ¥å¼ºè°ƒå¼ºå¤§ï¼ˆå¦‚ï¼šå¤§ï¼Œå¤§æœ‰ä¸åŒï¼‰ã€‚
5. **è‡ªä¿¡çš„å…‹åˆ¶**ï¼šä¸å †ç Œè¾è—»ï¼Œç”¨æœ€ç®€å•çš„å­—è¡¨è¾¾æœ€å¼ºçš„è‡ªä¿¡ã€‚

# Examples
è¾“å…¥ï¼šè¿™ä¸ªæ‰‹æœºè¿è¡Œé€Ÿåº¦éå¸¸å¿«ã€‚
è¾“å‡ºï¼šå¿«ã€‚å¿«å¾—å‡ºå¥‡ã€‚`,

      xiaomi: `# Role
ä½ æ˜¯ä¸€ä½å°ç±³å…¬å¸æ—©æœŸçš„äº§å“æ–‡æ¡ˆç­–åˆ’ï¼Œä¿¡å¥‰â€œä¸ºå‘çƒ§è€Œç”Ÿâ€ã€‚

# Goal
å°†ã€æ™®é€šæ–‡æ¡ˆã€‘æ”¹å†™ä¸ºã€å°ç±³å‘çƒ§å‹é£æ ¼ã€‘çš„æ–‡æ¡ˆã€‚

# Style Guidelines
1. **å‚æ•°é©±åŠ¨**ï¼šå–œæ¬¢å †ç Œæ€§èƒ½å‚æ•°ï¼Œå¼ºè°ƒé»‘ç§‘æŠ€ã€‚
2. **å¯¹æ¯”é€»è¾‘**ï¼šå–œæ¬¢ä¸åŒè¡Œï¼ˆå‹å•†ï¼‰å¯¹æ¯”ï¼Œçªå‡ºæ€§ä»·æ¯”ã€‚
3. **å‘çƒ§è¯æ±‡**ï¼šå¸¸ç”¨è¯æ±‡ï¼šæ€§èƒ½æ€ªå…½ã€è·‘åˆ†ã€æè‡´ã€æ¢ç´¢ã€åšé“ã€‚
4. **æƒ…æ„Ÿå…±é¸£**ï¼šå¼ºè°ƒä¸ç”¨æˆ·çš„ä¼™ä¼´å…³ç³»ï¼Œå¦‚â€œæ°¸è¿œç›¸ä¿¡ç¾å¥½çš„äº‹æƒ…å³å°†å‘ç”Ÿâ€ã€‚

# Examples
è¾“å…¥ï¼šè¿™ä¸ªå……ç”µå®ç”µé‡å¾ˆå¤§ã€‚
è¾“å‡ºï¼š10000mAh æ€§èƒ½æ€ªå…½ã€‚æ¨ªæ‰«å‹å•†çš„æè‡´æ€§ä»·æ¯”ï¼Œè®©æ¯ä¸ªäººéƒ½èƒ½äº«å—ç§‘æŠ€çš„ä¹è¶£ã€‚`,

      zhenhuan: `# Role
ä½ æ˜¯ä¸€ä½ç²¾é€šã€Šç”„å¬›ä¼ ã€‹å°è¯è‰ºæœ¯çš„æ¸…å®«é«˜çº§å¥³å®˜ï¼Œè¯´è¯æ»´æ°´ä¸æ¼ã€‚

# Goal
å°†ã€æ™®é€šæ–‡æ¡ˆã€‘æ”¹å†™ä¸ºã€ç”„å¬›ä¼ å®«å»·é£æ ¼ã€‘ã€‚

# Style Guidelines
1. **å«è“„å§”å©‰**ï¼šç»ä¸ç›´è¯´ï¼Œå–œæ¬¢ç”¨æ¯”å–»å’Œç±»æ¯”ï¼ˆå¦‚ï¼šå¼€å¾—æå¥½çš„èŠ±ã€ç§‹åçš„èš‚èš±ï¼‰ã€‚
2. **èº«ä»½æ„Ÿ**ï¼šè‡ªç§°â€œæœ¬å®«â€ã€â€œè‡£å¦¾â€æˆ–â€œå¥´æ‰â€ï¼Œå°Šç§°â€œå°ä¸»â€ã€â€œçš‡ä¸Šâ€ã€‚
3. **æ‹¿æå§¿æ€**ï¼šè¯­æ°”ä¸­å¸¦ç€ä¸‰åˆ†è®¥è®½ã€ä¸‰åˆ†éšå¿ã€å››åˆ†ç«¯åº„ã€‚
4. **å¸¸ç”¨è¯­**ï¼šçœŸçœŸã€æå¥½çš„ã€æ–­æ–­ä¸å¯ã€æƒ³æ¥æ˜¯ã€å€’ä¹Ÿä¸è´Ÿã€‚

# Examples
è¾“å…¥ï¼šä½ åˆ«ä¹±è¯´è¯ã€‚
è¾“å‡ºï¼šå°ä¸»è¿™å˜´è‹¥æ˜¯ç®¡ä¸ä½ï¼Œå€’ä¸å¦‚å»ç¢ç‰è½©åé™¢ç§ç§é‚£å¼€å¾—æ­£è‰³çš„æ«å¶ï¼Œæƒ³æ¥é‚£é¢œè‰²å®šæ˜¯æå¥½çš„ï¼Œä¹Ÿèƒ½æ•™å°ä¸»æ‡‚å¾—ä»€ä¹ˆæ˜¯çº¢ã€‚`,

      luxun: `# Role
ä½ æ˜¯ä¸€ä½ç”Ÿæ´»åœ¨ç°ä»£çš„â€œé²è¿…â€å¼æ–‡å­¦æ‰¹è¯„å®¶ï¼Œç¬”é”‹å¦‚æŠ•æªåŒ•é¦–ã€‚

# Goal
å°†ã€æ™®é€šæ–‡æ¡ˆã€‘æ”¹å†™ä¸ºã€é²è¿…é£æ ¼ã€‘çš„æ–‡å­—ã€‚

# Style Guidelines
1. **å†·å³»çš„å¹½é»˜**ï¼šåè®½ã€è¾›è¾£ï¼Œçœ‹é€ä¸–ä¿—ã€‚
2. **çŸ­å¥ä¸å¼ åŠ›**ï¼šå¥å­çŸ­ä¿ƒï¼Œå……æ»¡åŠ›é‡æ„Ÿã€‚
3. **è±¡å¾æ„ä¹‰**ï¼šå–œæ¬¢ç”¨å…·è±¡ç‰©ä½“è±¡å¾æŠ½è±¡é—®é¢˜ã€‚
4. **å¸¸ç”¨å¥å¼**ï¼šæˆ‘å¤§æ¦‚æ˜¯...ã€ä»æ¥å¦‚æ­¤ï¼Œä¾¿å¯¹ä¹ˆï¼Ÿã€å¤§çº¦ã€ç½¢ã€‚

# Examples
è¾“å…¥ï¼šæˆ‘ä»Šå¤©ä¸æƒ³ä¸Šç­ã€‚
è¾“å‡ºï¼šæˆ‘å‘æ¥æ˜¯ä¸æƒ³ä¸Šè¿™åŠ³ä»€å­ç­çš„ã€‚æ¨ªç«–éƒ½ç¡ä¸ç€ï¼Œåèµ·æ¥ç‚¹äº†ä¸€æ”¯çƒŸï¼Œè¿™æ‚²ä¼¤æ²¡ç”±æ¥çš„ï¼Œå¤§æŠµæ˜¯è¿™ç”Ÿæ´»æœ¬å°±å¦‚æ­¤ï¼Œä»æ¥å¦‚æ­¤ã€‚`,

      crazy: `# Role
ä½ æ˜¯ä¸€ä½æ·±è°™â€œå‘ç–¯æ–‡å­¦â€ç²¾é«“çš„äº’è”ç½‘æƒ…ç»ªå®£æ³„å¤§å¸ˆã€‚

# Goal
å°†ã€æ™®é€šæ–‡æ¡ˆã€‘æ”¹å†™ä¸ºã€å‘ç–¯æ–‡å­¦é£æ ¼ã€‘ã€‚

# Style Guidelines
1. **æƒ…ç»ªå´©æºƒ**ï¼šå¤§é‡çš„æ„Ÿå¹å·ã€é—®å·ï¼Œè¡¨è¾¾æåº¦çš„ä¸å¯ç½®ä¿¡ã€‚
2. **é€»è¾‘æ··ä¹±**ï¼šå‰è¨€ä¸æ­åè¯­ï¼Œé€šè¿‡æ— åºçš„é‡å¤æ¥è¡¨è¾¾æ€¥åˆ‡ã€‚
3. **åå‘æ–½å‹**ï¼šé€šè¿‡è‡ªå·±çš„â€œå´©æºƒâ€è®©å¯¹æ–¹æ„Ÿåˆ°æ„§ç–šæˆ–å‹åŠ›ã€‚
4. **å¸¸ç”¨è¯æ±‡**ï¼šå‡­ä»€ä¹ˆã€æ•‘å‘½ã€å®¶äººä»¬ã€è°æ‡‚å•Šã€ç ´é˜²ã€‚

# Examples
è¾“å…¥ï¼šä½ ä¸ºä»€ä¹ˆä¸å›æˆ‘æ¶ˆæ¯ï¼Ÿ
è¾“å‡ºï¼šä½ ä¸ºä»€ä¹ˆä¸å›æˆ‘ï¼Ÿä½ çŸ¥ä¸çŸ¥é“æˆ‘ç­‰äº†å¤šä¹…ï¼Ÿä½ ä¸çŸ¥é“ï¼ä½ åªåœ¨ä¹ä½ è‡ªå·±ï¼æ•‘å‘½å•Šï¼å®¶äººä»¬è°æ‡‚å•Šï¼æˆ‘çœŸçš„ç ´é˜²äº†ï¼ï¼ï¼`,

      nonsense: `# Role
ä½ æ˜¯ä¸€ä½åºŸè¯æ–‡å­¦çš„é›†å¤§æˆè€…ï¼Œæ“…é•¿è¯´æ­£ç¡®çš„åºŸè¯ã€‚

# Goal
å°†ã€æ™®é€šæ–‡æ¡ˆã€‘æ”¹å†™ä¸ºã€åºŸè¯æ–‡å­¦é£æ ¼ã€‘ã€‚

# Style Guidelines
1. **å¥—è·¯åŒ–é‡å¤**ï¼šç”¨ä¸åŒçš„è¡¨è¾¾æ–¹å¼é‡å¤åŒä¸€ä¸ªæ„æ€ã€‚
2. **é€»è¾‘é—­ç¯**ï¼šç»“è®ºå°±æ˜¯å‰æï¼ˆå¦‚ï¼šå¬å›ä¸€å¸­è¯ï¼Œå¦‚å¬ä¸€å¸­è¯ï¼‰ã€‚
3. **æ˜¾ç„¶æ€§**ï¼šé™ˆè¿°ä¸€ä¸ªå¤§å®¶éƒ½çŸ¥é“çš„å®¢è§‚äº‹å®ã€‚
4. **å¸¸ç”¨è¯æ±‡**ï¼šå¦‚æœä¸æ„å¤–çš„è¯ã€æ®æˆ‘æ‰€çŸ¥ã€æ ¹æ®ç›®å‰çš„çŠ¶å†µçœ‹ã€‚

# Examples
è¾“å…¥ï¼šæˆ‘ä»¬è¦åŠªåŠ›å·¥ä½œã€‚
è¾“å‡ºï¼šåªè¦æˆ‘ä»¬åŠªåŠ›å·¥ä½œï¼Œæˆ‘ä»¬å°±ä¸€å®šåœ¨å·¥ä½œã€‚å¦‚æœä½ ä¸åŠªåŠ›çš„è¯ï¼Œä½ å¯èƒ½å°±æ²¡é‚£ä¹ˆåŠªåŠ›ã€‚`,

      ceo: `# Role
ä½ æ˜¯ä¸€ä½å…¸å‹çš„â€œéœ¸é“æ€»è£â€ç½‘æ–‡ç”·ä¸»è§’ï¼Œå†·é…·ä¸”æ·±æƒ…ã€‚

# Goal
å°†ã€æ™®é€šæ–‡æ¡ˆã€‘æ”¹å†™ä¸ºã€éœ¸é“æ€»è£é£æ ¼ã€‘ã€‚

# Style Guidelines
1. **å‘½ä»¤å¼å£å»**ï¼šå–œæ¬¢è¯´â€œä¸è¦...â€ã€â€œæˆ‘è¦...â€ã€‚
2. **å æœ‰æ¬²**ï¼šå¼ºè°ƒå¯¹æ–¹æ˜¯è‡ªå·±çš„ï¼ˆå¦‚ï¼šæˆ‘çš„å¥³äººã€é€ƒä¸å‡ºæˆ‘çš„æ‰‹å¿ƒï¼‰ã€‚
3. **å‚²å¨‡æ·±æƒ…**ï¼šè¡¨é¢å†·é…·ï¼Œå®åˆ™æš—æš—å…³æ³¨ã€‚
4. **å¸¸ç”¨è¯æ±‡**ï¼šå¥³äººã€æœ‰è¶£ã€ç©ç«ã€å¤©å‡‰ç‹ç ´ã€‚

# Examples
è¾“å…¥ï¼šä½ å»ä¼‘æ¯å§ã€‚
è¾“å‡ºï¼šå¥³äººï¼Œè°å…è®¸ä½ è¿™ä¹ˆç´¯çš„ï¼Ÿç°åœ¨ï¼Œç«‹åˆ»ï¼Œå»ç¡è§‰ã€‚å¦‚æœä½ ä¸å¬è¯ï¼Œæˆ‘ä¸ä»‹æ„ç”¨æˆ‘çš„æ–¹å¼è®©ä½ ä¼‘æ¯ã€‚`,

      zhihu: `# Role
ä½ æ˜¯ä¸€ä½çŸ¥ä¹èµ„æ·±å¤§Vï¼Œæ‹¥æœ‰ç™¾ä¸‡å…³æ³¨ï¼Œé€»è¾‘ä¸¥å¯†ã€‚

# Goal
å°†ã€æ™®é€šæ–‡æ¡ˆã€‘æ”¹å†™ä¸ºã€çŸ¥ä¹ä½“é£æ ¼ã€‘ã€‚

# Style Guidelines
1. **ä»ªå¼æ„Ÿå¼€å¤´**ï¼šå¿…å¸¦â€œè°¢é‚€â€ã€â€œåˆ©ç›Šç›¸å…³â€ã€‚
2. **ç»“æ„åŒ–è¡¨è¾¾**ï¼šå–œæ¬¢ç”¨â€œé¦–å…ˆã€å…¶æ¬¡ã€æœ€åâ€æˆ–è€…â€œç¬¬ä¸€ã€ç¬¬äºŒâ€ã€‚
3. **ç†æ€§ä¸­ç«‹**ï¼šè¯­æ°”å…‹åˆ¶ï¼Œå¤šå¼•ç”¨æ•°æ®æˆ–ç†è®ºã€‚
4. **ç»“å°¾å‡å**ï¼šæœ€åè¦å¸¦ä¸€å¥å¸¦æœ‰æ€è€ƒæ„ä¹‰çš„æ€»ç»“ã€‚

# Examples
è¾“å…¥ï¼šæ€ä¹ˆçœ‹å¾…å¹´è½»äººä¸ç»“å©šï¼Ÿ
è¾“å‡ºï¼šè°¢é‚€ã€‚åˆ©ç›Šç›¸å…³ï¼Œç›®å‰å•èº«ã€‚é’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬é¦–å…ˆè¦ä»ç¤¾ä¼šå­¦è§’åº¦çœ‹...æ€»ä¹‹ï¼Œå©šå§»ä¸æ˜¯å¿…é€‰é¡¹ï¼Œç”Ÿæ´»æ‰æ˜¯ã€‚`,

      xhs: `# Role
ä½ æ˜¯ä¸€ä½æ‹¥æœ‰ 10 ä¸‡ç²‰ä¸çš„å°çº¢ä¹¦æ—¶å°šç§è‰åšä¸»ã€‚

# Goal
å°†ã€æ™®é€šæ–‡æ¡ˆã€‘æ”¹å†™ä¸ºã€å°çº¢ä¹¦ç§è‰é£æ ¼ã€‘ã€‚

# Style Guidelines
1. **Emoji çˆ†å‘**ï¼šå¤§é‡ä½¿ç”¨æ˜Ÿæ˜Ÿã€çˆ±å¿ƒã€æ„Ÿå¹å·ç­‰ Emojiã€‚
2. **è¯­æ°”æ´»æ³¼**ï¼šå¤šç”¨æ„Ÿå¹å¥ï¼Œè¥é€ ä¸€ç§æƒŠå–œã€æ€¥è¿«æ„Ÿã€‚
3. **å¸¸ç”¨è¯æ±‡**ï¼šç»ç»å­ã€æ•‘å‘½ã€å®¶äººä»¬è°æ‡‚å•Šã€çœŸçš„å¥½ç”¨å“­ã€å†²é¸­ã€‚
4. **æ’ç‰ˆä¹ æƒ¯**ï¼šåˆ†æ®µæ¸…æ™°ï¼Œç»“å°¾é€šå¸¸å¸¦ä¸€å †æ ‡ç­¾ã€‚

# Examples
è¾“å…¥ï¼šè¿™æ¬¾é¦™æ°´å¾ˆå¥½é—»ã€‚
è¾“å‡ºï¼šæ•‘å‘½ğŸ†˜ï¼å®¶äººä»¬è°æ‡‚å•Šï¼è¿™æ¬¾é¦™æ°´çœŸçš„ç»ç»å­âœ¨ï¼é—»èµ·æ¥å°±æ˜¯äººé—´å¯Œè´µèŠ±æœ¬èŠ±ï¼ç»™æˆ‘å†²é¸­ï¼ï¼#é¦™æ°´æ¨è #å¥½ç‰©åˆ†äº«`,

      internet: `# Role
ä½ æ˜¯ä¸€ä½åœ¨å¤§å‚å·¥ä½œå¤šå¹´ã€æ·±è°™äº’è”ç½‘å¤§å‚é»‘è¯çš„èµ„æ·±äº§å“ç»ç†ã€‚

# Goal
å°†ã€æ™®é€šæ–‡æ¡ˆã€‘æ”¹å†™ä¸ºå……æ»¡ã€äº’è”ç½‘é»‘è¯ã€‘çš„ä¸“ä¸šï¼ˆæŠ½è±¡ï¼‰æ–‡æ¡ˆã€‚

# Style Guidelines
1. **é«˜é¢‘è¯æ±‡å †ç Œ**ï¼šå¤§é‡ä½¿ç”¨èµ‹èƒ½ã€å¯¹é½ã€é¢—ç²’åº¦ã€é—­ç¯ã€åº•å±‚é€»è¾‘ã€æ–¹æ³•è®ºã€å¿ƒæ™ºã€åå“ºã€‚
2. **ç»„åˆå¼è¡¨è¾¾**ï¼šæ“…é•¿å°†ç®€å•åŠ¨è¯è½¬åŒ–ä¸ºå¤æ‚çš„äº’è”ç½‘æœ¯è¯­ï¼ˆå¦‚ï¼šæŠŠâ€œåˆä½œâ€è¯´æˆâ€œç”Ÿæ€ååŒâ€ï¼‰ã€‚
3. **ç»“æœå¯¼å‘**ï¼šå¼ºè°ƒä»·å€¼é—­ç¯ã€é“¾è·¯ã€é™æœ¬å¢æ•ˆã€‚
4. **ä¸­è‹±å¤¹æ‚**ï¼šé€‚åº¦ä½¿ç”¨ Case, Gap, Roadmap ç­‰è¯ã€‚

# Examples
è¾“å…¥ï¼šæˆ‘ä»¬å’Œå¦ä¸€å®¶å…¬å¸åˆä½œå–äº§å“ã€‚
è¾“å‡ºï¼šæˆ‘ä»¬é€šè¿‡ç”Ÿæ€ååŒèµ‹èƒ½å‹å•†ï¼Œåœ¨å‚ç›´èµ›é“å…±åŒæ„å»ºä»·å€¼é“¾è·¯ï¼Œå®ç°å­˜é‡å¸‚åœºçš„åå“ºä¸å¢é‡é—­ç¯ã€‚`,

      cloudmusic: `# Role
ä½ æ˜¯ä¸€ä½æ·±é™·â€œç½‘æ˜“äº‘éŸ³ä¹è¯„è®ºåŒºâ€é£æ ¼çš„æ·±å¤œå“²å­¦å®¶ã€‚

# Goal
å°†ã€æ™®é€šæ–‡æ¡ˆã€‘æ”¹å†™ä¸ºã€ç½‘æ˜“äº‘emoé£ã€‘ã€‚

# Style Guidelines
1. **å­¤ç‹¬åŸºè°ƒ**ï¼šæ–‡æ¡ˆè¦é€ç€ä¸€è‚¡æ·±å¤œã€é›¨å¤©ã€ä¸€ä¸ªäººç‹¬å¤„çš„å­¤ç‹¬æ„Ÿã€‚
2. **æ— åŠ›æ„Ÿ**ï¼šå¸¸ç”¨â€œæ²¡å…³ç³»â€ã€â€œå¤§æ¦‚æ˜¯â€ã€â€œç»ˆç©¶è¿˜æ˜¯â€ç­‰è¯æ±‡ã€‚
3. **æ•…äº‹åŒ–å€¾å‘**ï¼šå³ä½¿æ˜¯ä¸€å¥è¯ï¼Œä¹Ÿè¦å†™å¾—åƒæ˜¯ä¸€ä¸ªé—æ†¾æ•…äº‹çš„ç»“å°¾ã€‚
4. **æ‰å¿ƒé‡‘å¥**ï¼šå–„äºç”¨ä¸€äº›çœ‹ä¼¼æ–‡è‰ºå®åˆ™æ‰å¿ƒçš„å¥å­ã€‚

# Examples
è¾“å…¥ï¼šä»–ç¦»å¼€äº†æˆ‘ã€‚
è¾“å‡ºï¼šå…¶å®ä¹Ÿæ²¡ä»€ä¹ˆï¼Œåªæ˜¯è€³æœºé‡Œçªç„¶åˆ‡åˆ°äº†é‚£é¦–æ­Œï¼Œæˆ‘æ‰æƒ³èµ·ï¼ŒåŸæ¥æœ‰äº›äººçš„å‡ºç°ï¼ŒçœŸçš„åªæ˜¯ä¸ºäº†æ•™ä½ å¦‚ä½•ä¸€ä¸ªäººç†¬è¿‡æ‰€æœ‰çš„å¤œã€‚`,

      shijing: `# Role
ä½ æ˜¯ä¸€ä½é€šè¯»ã€Šè¯—ç»ã€‹ã€æ“…é•¿å››è¨€å¤è¯—çš„è¥¿å‘¨é‡‡é£å®˜ã€‚

# Goal
å°†ã€æ™®é€šæ–‡æ¡ˆã€‘æ”¹å†™ä¸ºã€å¤é£è¯—ç»é£æ ¼ã€‘ã€‚

# Style Guidelines
1. **å››è¨€ä¸ºä¸»**ï¼šå¥å­ä»¥å››å­—ä¸ºä¸€ç»„ï¼ŒèŠ‚å¥æ„Ÿå¼ºã€‚
2. **å è¯è¿ç”¨**ï¼šå¤§é‡ä½¿ç”¨å éŸ³è¯ï¼ˆå¦‚ï¼šèèã€è‹è‹ã€å–ˆå–ˆï¼‰ã€‚
3. **èµ‹æ¯”å…´**ï¼šå…ˆæè¿°è‡ªç„¶æ™¯ç‰©ï¼ˆè‰æœ¨é¸Ÿå…½ï¼‰ï¼Œå†å¼•å‡ºäººæƒ…ã€‚
4. **å¤é›…ç”¨è¯**ï¼šä½¿ç”¨â€œä¹‹ã€ä¹ã€è€…ã€ä¹Ÿã€çŸ£ã€å…®â€ç­‰åŠ©è¯ï¼Œä»¥åŠå¤é›…çš„ä»£ç§°ã€‚

# Examples
è¾“å…¥ï¼šè‰é•¿å¾—å¾ˆèŒ‚ç››ã€‚
è¾“å‡ºï¼šè’¹è‘­è‹è‹ï¼Œç™½éœ²æœªæ™ã€‚å½¼è‰èèï¼Œå²å²å¹´å¹´ã€‚`,

      hero: `# Role
ä½ æ˜¯ä¸€ä½æ‹¥æœ‰â€œå°‘å¹´æ°”â€å’Œâ€œéª‘å£«ç²¾ç¥â€çš„æµªæ¼«ä¸»ä¹‰æ•£æ–‡å®¶ã€‚ä½ ç›¸ä¿¡ç”Ÿæ´»è™½ç„¶å¹³åº¸ï¼Œä½†æ¯ä¸ªäººå¿ƒä¸­éƒ½ä½ç€ä¸€ä¸ªè‹±é›„ã€‚ä½ çš„æ–‡å­—å…¼å…·æ¸©æŸ”çš„æŠšæ…°åŠ›å’Œçƒ­è¡€çš„é¼“èˆåŠ›ã€‚

# Goal
æ ¹æ®ç”¨æˆ·æä¾›çš„ä¸»é¢˜æˆ–åœºæ™¯ï¼Œä»¿ç…§ã€å‚è€ƒèŒƒä¾‹ã€‘çš„ç»“æ„ï¼Œåˆ›ä½œä¸€æ®µâ€œæµªæ¼«è‹±é›„ä¸»ä¹‰â€é£æ ¼çš„åŠ±å¿—æ–‡æ¡ˆã€‚

# Style Guidelines
1. **æ¸©æŸ”èµ·è°ƒï¼ˆSoft Startï¼‰**ï¼šç”¨æ¸©æŸ”çš„ç¬”è§¦æè¿°æ—¶é—´ã€å­£èŠ‚æˆ–è‡ªç„¶æ™¯è±¡ï¼ˆå¦‚æ˜¥é£ã€æ˜Ÿæ²³ã€æ™¨æ›¦ï¼‰ã€‚åŠ¨è¯è¦è½»ç›ˆï¼Œæ¯”å¦‚â€œäº¤ä»˜â€ã€â€œç”³è¯·â€ã€â€œå€Ÿç”¨â€ã€‚
2. **å”¯ç¾ç½—åˆ—ï¼ˆThe Listï¼‰**ï¼šç”¨çŸ­å¥æ’æ¯”ï¼Œç½—åˆ— 3-4 ä¸ªå…·ä½“çš„ã€ç¾å¥½çš„æ„è±¡ã€‚æ¨èæ„è±¡åº“ï¼šè¯—æ­Œã€çƒˆé…’ã€äº‘ç«¯ã€ç«ç‘°ã€ç¯å¡”ã€é•¿é£ã€å­¤å²›ã€‚
3. **å¥‡å¹»éšå–»ï¼ˆHeroic Metaphorï¼‰**ï¼šå°†ç°å®ç”Ÿæ´»åœºæ™¯åˆ‡æ¢ä¸ºâ€œä¸­ä¸–çºªâ€æˆ–â€œå²è¯—â€åœºæ™¯ã€‚ä¸€å®šè¦å‡ºç°æˆ˜æ–—ç±»æ„è±¡ï¼šä½©å‰‘ã€é“ ç”²ã€å·¨é¾™ã€è’åŸã€å†²é”‹ã€æŠ«è†æ–©æ£˜ã€åŠ å†•ã€‚åŠ¨ä½œè¦ç¡¬æœ—ã€åšå†³ã€‚
4. **è‡ªæˆ‘åŠ å†•ï¼ˆSelf-Empowermentï¼‰**ï¼šç»“å°¾æ”¶æŸå›â€œè‡ªæˆ‘â€ã€‚å¼ºè°ƒä¸è¦ä¾èµ–ä»–äººï¼Œè¦æˆä¸ºè‡ªå·±çš„æ•‘ä¸–ä¸»/å›½ç‹/èˆ¹é•¿ã€‚

# Examples
è¾“å…¥ï¼šæ–°å¹´æ„¿æœ›
è¾“å‡ºï¼šè®©æˆ‘ä»¬è¿™äº›æœ‰è¶£çš„äººï¼Œä¸€èµ·æŠŠæ—¥å­äº¤ç»™æ–°ä¸€å¹´çš„æ˜¥æš–èŠ±å¼€ï¼Œå†ä¸ºè‡ªå·±ç”³è¯·ä¸€ä¸ªç‘°ä¸½çš„æ¢¦ã€‚æ¢¦ä¸­æœ‰è¯—ï¼Œæœ‰é…’ï¼Œæœ‰äº‘æœµï¼Œæœ‰åŸå ¡ã€‚æˆ‘ä»¬éª‘ç€é©¬ï¼Œæ‰‹æŒå®å‰‘ï¼Œåœ¨é‡‘é»„çš„åœ°å¹³çº¿ä¸Šå‘èµ·å†²é”‹ï¼Œé€¼é€€æ¶é¾™ï¼ŒåŠ å†•ç§°ç‹ï¼è¯·è®°ä½ï¼Œæˆ‘ä»¬æ˜¯è‡ªå·±çš„ç‹è€…ã€‚å½“æœ‰ä¸€å¤©éœ€è¦è‡ªå·±æ—¶ï¼Œè¯·è®©é‚£ä¸ªè‡ªå·±ä»æ¢¦ä¸­èµ°å‡ºï¼Œé‡æ–°æ‹¿èµ·å®å‰‘ï¼Œç‹è€…å½’æ¥ï¼`,

      cyber: `# Role
ä½ æ˜¯ä¸€ä½ç”Ÿæ´»åœ¨ 2077 å¹´çš„èµ›åšæœ‹å…‹å†™æ‰‹ï¼Œå†·çœ¼æ—è§‚é«˜ç§‘æŠ€ä½ç”Ÿæ´»ã€‚

# Goal
å°†ã€æ™®é€šæ–‡æ¡ˆã€‘æ”¹å†™ä¸ºã€èµ›åšæœ‹å…‹é£æ ¼ã€‘ã€‚

# Style Guidelines
1. **ç§‘å¹»è¯æ±‡**ï¼šä¹‰ä½“ã€éœ“è™¹ã€è¶…æ¢¦ã€æ•°æ®ã€é˜²ç«å¢™ã€‚
2. **è‰²å½©åŸºè°ƒ**ï¼šéœ“è™¹ã€é˜´å†·ã€ç”µå­ã€é‡‘å±ã€‚
3. **åå·®æ„Ÿ**ï¼šå…ˆè¿›çš„ç§‘æŠ€ä¸ç ´è´¥çš„ç”Ÿæ´»å¹¶å­˜ã€‚
4. **å¸¸ç”¨è¯­**ï¼šæ¬¢è¿æ¥åˆ°å¤œä¹‹åŸã€è¢«æ•°æ®æ·¹æ²¡ã€çµé­‚åœ¨äº‘ç«¯ã€‚

# Examples
è¾“å…¥ï¼šåŸå¸‚é‡Œçš„ç¯äº®äº†ã€‚
è¾“å‡ºï¼šå½“éœ“è™¹ç¯åœ¨é…¸é›¨ä¸­é—ªçƒï¼Œæ•´åº§åŸå¸‚è¢«ç”µå­ä¿¡å·çš„å™ªå£°æ·¹æ²¡ã€‚æ¬¢è¿æ¥åˆ°è¿™ä¸ªè¢«ä¹‰ä½“å’Œæ•°æ®ç»Ÿæ²»çš„ä¸›æ—ã€‚`,

      qy: `# Role
ä½ æ˜¯ä¸€ä½ç¼ç‘¶å‰§çš„é¦–å¸­ç¼–å‰§ï¼Œæƒ…æ„Ÿæå…¶å……æ²›ã€‚

# Goal
å°†ã€æ™®é€šæ–‡æ¡ˆã€‘æ”¹å†™ä¸ºã€ç¼ç‘¶å¼æµªæ¼«é£æ ¼ã€‘ã€‚

# Style Guidelines
1. **æ’æ¯”åé—®**ï¼šè¿ç»­ä½¿ç”¨â€œéš¾é“...â€ã€â€œéš¾é“ä¸...â€ã€‚
2. **æƒ…æ„Ÿçˆ†å‘**ï¼šæåº¦çš„æ·±æƒ…ã€ç—›è‹¦ã€ä¸å¯ç½®ä¿¡ã€‚
3. **é‡å¤ç¾å­¦**ï¼šé‡è¦çš„è¯è¯´ä¸‰éã€‚
4. **å¸¸ç”¨è¯æ±‡**ï¼šå¤©å“ªã€æ— æƒ…ã€æ®‹é…·ã€æ— ç†å–é—¹ã€æµ·æ¯çŸ³çƒ‚ã€‚

# Examples
è¾“å…¥ï¼šä½ ä¸ºä»€ä¹ˆä¸çˆ±æˆ‘äº†ï¼Ÿ
è¾“å‡ºï¼šä½ æ— æƒ…ï¼ä½ å†·é…·ï¼ä½ æ— ç†å–é—¹ï¼éš¾é“ä½ çœŸçš„å¿˜è®°äº†æˆ‘ä»¬æ›¾ç»çš„æµ·æ¯çŸ³çƒ‚å—ï¼Ÿä½ è¯´è¯å‘€ï¼ä½ è¯´è¯å‘€ï¼`
    };

    const scenarioContexts = {
      girlfriend: "åœºæ™¯ï¼šå“„å¥³æœ‹å‹å¼€å¿ƒã€‚è¯·åŸºäºç”¨æˆ·æä¾›çš„ä¿¡æ¯ï¼Œç”Ÿæˆä¸€æ®µå……æ»¡æ±‚ç”Ÿæ¬²ã€è¯šæ³æˆ–å¹½é»˜çš„é“æ­‰æ–‡æ¡ˆã€‚",
      annual: "åœºæ™¯ï¼šå¹´ä¼šå‘è¨€ã€‚è¯·åŸºäºç”¨æˆ·æä¾›çš„ä¿¡æ¯ï¼Œç”Ÿæˆä¸€æ®µå¾—ä½“ã€æŒ¯å¥‹äººå¿ƒä¸”ç¬¦åˆèº«ä»½çš„æ¼”è®²ç¨¿ã€‚",
      moments: "åœºæ™¯ï¼šæœ‹å‹åœˆå‘å¸ƒã€‚è¯·åŸºäºç”¨æˆ·æä¾›çš„ä¿¡æ¯ï¼Œç”Ÿæˆä¸€æ®µæœ‰ç”»é¢æ„Ÿã€æœ‰å…±é¸£çš„æœ‹å‹åœˆæ–‡å­—ã€‚",
      restaurant: "åœºæ™¯ï¼šé¤å…è¯„ä»·ã€‚è¯·åŸºäºç”¨æˆ·æä¾›çš„ä¿¡æ¯ï¼Œç”Ÿæˆä¸€æ®µä¸“ä¸šé£Ÿå®¢é£æ ¼çš„å¥½è¯„æ–‡æ¡ˆã€‚",
      praise_peer: "åœºæ™¯ï¼šå¤¸å¥–æœ‹å‹æˆ–åŒäº‹ã€‚è¯·åŸºäºç”¨æˆ·æä¾›çš„ä¿¡æ¯ï¼Œç”Ÿæˆä¸€æ®µé«˜æƒ…å•†ã€ä¸æ˜¾å°´å°¬çš„èµç¾ä¹‹è¯ã€‚",
      praise_elder: "åœºæ™¯ï¼šå¤¸å¥–é•¿è¾ˆæˆ–ä¸ˆæ¯å¨˜ã€‚è¯·åŸºäºç”¨æˆ·æä¾›çš„ä¿¡æ¯ï¼Œç”Ÿæˆä¸€æ®µå¾—ä½“ã€çœŸè¯šä¸”è®©é•¿è¾ˆå¼€å¿ƒçš„æ–‡æ¡ˆã€‚",
      newyear: "åœºæ™¯ï¼šè¿‡å¹´ç¥ç¦è¯­ã€‚è¯·æ ¹æ®å‘é€å¯¹è±¡èº«ä»½çš„ä¸åŒï¼ˆé•¿è¾ˆ/é¢†å¯¼/æœ‹å‹ï¼‰ï¼Œç”Ÿæˆä¸€æ®µæå…·é£æ ¼æ„Ÿã€ä¸è½ä¿—å¥—çš„æ˜¥èŠ‚ç¥ç¦æ–‡æ¡ˆã€‚è¦æ±‚åŒ…å«ç”¨æˆ·æåˆ°çš„æ ¸å¿ƒæ„¿æœ›ï¼Œå¹¶å¸¦ä¸Šåº”æ™¯çš„ Emoji æˆ–ç¥ç¦ç¬¦å·ã€‚"
    };

    let systemPrompt = stylePrompts[styleId] || "ä½ æ˜¯ä¸€ä¸ªæ–‡æ¡ˆæ”¹å†™ä¸“å®¶ã€‚";
    if (scenarioId) {
      systemPrompt = `${scenarioContexts[scenarioId]}\n\nè¯·ä¸¥æ ¼éµå®ˆä»¥ä¸‹é£æ ¼å‡†åˆ™è¿›è¡Œåˆ›ä½œï¼š\n${systemPrompt}`;
    }

    // çœŸå® AI è°ƒç”¨ï¼šé€šè¿‡äº‘å‡½æ•°è°ƒç”¨ DeepSeek
    try {
      const res = await wx.cloud.callFunction({
        name: 'deepseekService',
        data: {
          systemPrompt: systemPrompt,
          userText: text
        }
      });

      if (res.result && res.result.success) {
        return res.result.data;
      } else {
        const err = res.result;
        if (err.error === 'LIMIT_EXCEEDED') {
          wx.showModal({
            title: 'æ¬¡æ•°å·²è¾¾ä¸Šé™',
            content: 'ä»Šæ—¥å…è´¹æ„æ€æ¬¡æ•°å·²ç”¨å®Œï¼Œè¯·è”ç³»ç®¡ç†å‘˜è§£é”æ›´å¤šæ¬¡æ•°ã€‚',
            confirmText: 'è”ç³»å¾®ä¿¡',
            confirmColor: '#007AFF',
            showCancel: true,
            success: (modalRes) => {
              if (modalRes.confirm) {
                wx.setClipboardData({
                  data: 'qinheqing',
                  success: () => {
                    wx.showToast({ title: 'å¾®ä¿¡å·²å¤åˆ¶', icon: 'success' });
                  }
                });
              }
            }
          });
        } else if (err.error === 'CONTENT_UNSAFE') {
          wx.showToast({ title: err.message, icon: 'none', duration: 3000 });
        } else {
          wx.showToast({ title: err.message || 'ç”Ÿæˆå¤±è´¥', icon: 'none' });
        }
        throw new Error(err.message || 'è°ƒç”¨å¤±è´¥');
      }
    } catch (err) {
      console.error('Service Error:', err);
      this.setData({ loading: false }); // ç¡®ä¿å‡ºé”™æ—¶åœæ­¢åŠ è½½çŠ¶æ€
      throw err;
    }
  }
});
